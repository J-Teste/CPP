NAME := Account
CXX := c++
FLAGS := -Wall -Wextra -Werror -std=c++98
SRCDIR := ./src
OBJDIR := obj
SRC := $(wildcard $(SRCDIR)/*.cpp)
OBJ := $(SRC:$(SRCDIR)/%.cpp=$(OBJDIR)/%.o)

all: $(NAME)

$(NAME): $(OBJ)
	@$(CXX) $(FLAGS) -o $@ $^
	@echo "ðŸŽ‰âœ¨ Build Complete! âœ¨ðŸŽ‰"
	@echo "ðŸš€ $(NAME) is ready to roll, compiled with: ðŸ”§ $(FLAGS) ðŸ”§"


$(OBJDIR)/%.o: $(SRCDIR)/%.cpp | $(OBJDIR)
	@$(CXX) $(FLAGS) -c $< -o $@

$(OBJDIR):
	@mkdir -p $(OBJDIR)

clean:
	@rm -rf $(OBJDIR)
	@echo "ðŸ§¹ Cleaning up..."
	@echo "ðŸ—‘ï¸  Object files have been swept away!"


fclean: clean
	@rm -f $(NAME)
	@echo "ðŸ’£ Full cleanup in progress..."
	@echo "ðŸ’€ $(NAME) has been OBLITERATED!"


re: fclean all

.PHONY: all clean fclean re
